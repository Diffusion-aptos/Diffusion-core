/*
CSS @property and the New Style
https://ryanmulligan.dev/blog/css-property-new-style/
*/
@import url("https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,500&display=swap");

:root {
    --shiny-cta-bg: #000000;
    --shiny-cta-bg-subtle: #1a1818;
    --shiny-cta-fg: #ffffff;
    --shiny-cta-highlight: blue;
    --shiny-cta-highlight-subtle: #8484ff;
    --gradient-angle :0deg;
    --gradient-angle-offset: 0deg;
    /*--gradient-percent: 5%;*/
    /*--gradient-shine:white;*/

}

/*@property --gradient-angle {*/
/*    syntax: "<angle>";*/
/*    initial-value: 0deg;*/
/*    inherits: false;*/
/*}*/

/*@property --gradient-angle-offset {*/
/*    syntax: "<angle>";*/
/*    initial-value: 0deg;*/
/*    inherits: false;*/
/*}*/

/*@property --gradient-percent {*/
/*    syntax: "<percentage>";*/
/*    initial-value: 5%;*/
/*    inherits: false;*/
/*}*/

/*@property --gradient-shine {*/
/*    syntax: "<color>";*/
/*    initial-value: white;*/
/*    inherits: false;*/
/*}*/

.shiny-cta {
    --animation: 0deg linear infinite;
    --duration: 3s;
    --shadow-size: 2px;
    isolation: isolate;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    outline-offset: 4px;
    padding: 1.25rem 2.5rem;
    font-family: inherit;
    font-size: 1.125rem;
    line-height: 1.2;
    border: 0.5px solid transparent;
    border-radius: 360px;
    color: #ffffff;
    background: linear-gradient(#000000, #000000)
    padding-box,
    conic-gradient(
            from calc(0deg - 0deg),
            transparent,
            #0000FFFF 5%,
            white calc(5% * 2),
            #0000FFFF calc(5% * 3),
            transparent calc(5% * 4)
    )
    border-box;
    box-shadow: inset 0 0 0 1px #1a1818;

    &::before,
    &::after,
    span::before {
        content: "";
        pointer-events: none;
        position: absolute;
        inset-inline-start: 50%;
        inset-block-start: 50%;
        translate: -50% -50%;
        z-index: 5;
    }

    &:active {
        translate: 0 1px;
    }
}

/* Dots pattern */
.shiny-cta::before {
    --size: calc(100% - 2px * 3);
    --position: 2px;
    --space: calc(--position * 2);
    width: calc(100% - 2px * 3);
    height: calc(100% - 2px * 3);
    background-size: calc( 2px * 2) calc(2px * 2);
    background: radial-gradient(
            circle at 2px 2px,
            white calc(2px / 4),
            transparent 0
    ) space;
    mask-image: conic-gradient(
            from calc(0deg + 45deg),
            black,
            transparent 10% 90%,
            black
    );
    border-radius: inherit;
    opacity: 0.4;
    z-index: 5;
}

/* Inner shimmer */
.shiny-cta::after {
    --animation: shimmer linear infinite;
    width: 100%;
    aspect-ratio: 1;
    background: linear-gradient(
            -50deg,
            transparent,
            #0000FFFF,
            transparent
    );
    mask-image: radial-gradient(circle at bottom, transparent 40%, black);
    opacity: 0.6;
}

.shiny-cta span {
    z-index: 7;

    &::before {
        --size: calc(100% + 1rem);
        width: calc(100% + 1rem);
        height: calc(100% + 1rem);
        box-shadow: inset 0 -1ex 2rem 4px #0000FFFF;
        opacity: 0;
    }
}

/* Animate */
.shiny-cta {
    --transition: 800ms cubic-bezier(0.25, 1, 0.5, 1);
    transition: 800ms cubic-bezier(0.25, 1, 0.5, 1);
    transition-property: --gradient-angle-offset, --gradient-percent,
    --gradient-shine;

    &,
    &::before,
    &::after {
        animation: --animation 3s,
        --animation calc(3s / 0.4) reverse paused;
       animation-composition: add ;
    }

    span::before {
        transition: opacity 800ms cubic-bezier(0.25, 1, 0.5, 1);
        animation: calc(3s * 1.5) breathe linear infinite;
    }
}

.shiny-cta:is(:hover, :focus-visible) {
    --gradient-percent: 20%;
    --gradient-angle-offset: 95deg;
    --gradient-shine: #8484ff;

    &,
    &::before,
    &::after {
        animation-play-state: running;
    }

    span::before {
        opacity: 1;
    }
}

@keyframes gradient-angle {
    to {
        --gradient-angle: 360deg;
    }
}

@keyframes shimmer {
    to {
        rotate: 360deg;
    }
}

@keyframes breathe {
    from,
    to {
        scale: 1;
    }
    50% {
        scale: 1.2;
    }
}

/*html,*/
/*body {*/
/*    height: 100%;*/
/*}*/

/*body {*/
/*    display: grid;*/
/*    place-items: center;*/
/*    color: white;*/
/*    background: #02040c;*/
/*    font-family: "Inter", sans-serif;*/
/*    font-optical-sizing: auto;*/
/*    font-weight: 500;*/
/*    font-style: normal;*/
/*    -webkit-font-smoothing: antialiased;*/
/*}*/